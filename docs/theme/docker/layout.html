<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="google-site-verification" content="UxV66EKuPe87dgnH1sbrldrx6VsoWMrx5NjwkgUFxXI" />

    <title>{{ meta['title'] if meta and meta['title'] else title }} - Docker Documentation</title>

    <meta name="description" content="{{ meta['description'] if meta }}" />
    <meta name="keywords" content="{{ meta['keywords'] if meta }}" />

    {%- set url_root = pathto('', 1) %}
    {%- if url_root == '#' %}{% set url_root = '' %}{% endif %}

    <script type="text/javascript">
        // This is included here for Javascript that doesn't have access to the templates.
        var doc_version = "{{ current_version }}";
        var doc_slug = "{{ slug }}";
    </script>


    {%- set css_files = css_files + ['_static/css/bootstrap.css'] %}
    {%- set css_files = css_files + ['_static/pygments.css'] %}
    {%- set css_files = css_files + ['_static/css/main.css'] %}

    {%- set script_files =
    ['https://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js']
    + ['https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.12/jquery-ui.min.js']
    + ['//fonts.googleapis.com/css?family=Cabin:400,700,400italic']
    + script_files
    %}

    {%- set script_files = script_files + ['_static/js/docs.js'] %}

    {%- if pagename == 'index' %}
    <link rel="canonical" href="http://docs.docker.io/en/latest/">
    {% else %}
    <link rel="canonical" href="http://docs.docker.io/en/latest/{{ pagename }}/">
    {% endif %}
    {%- for cssfile in css_files %}
    <link rel="stylesheet" href="{{ pathto(cssfile, 1) }}" type="text/css" />
    {%- endfor %}

    {%- for scriptfile in script_files if scriptfile != '_static/jquery.js' %}
    <script type="text/javascript" src="{{ pathto(scriptfile, 1) }}"></script>
    {%- endfor %}

    <link rel="shortcut icon" href="{{ pathto('_static/favicon.png', 1) }}"/>


    {%- block extrahead %}{% endblock %}

</head>

<body>

<div class="navbar navbar-static-top navbar-inner navbar-fixed-top ">
    <div class="navbar-dotcloud">
        <div class="container">

            <div style="float: right" class="pull-right">
                <ul class="nav">
                    <li id="nav-introduction"><a href="http://www.docker.io/" title="Docker Homepage">Home</a></li>
                    <li id="nav-about"><a href="http://www.docker.io/about/" title="About">About</a></li>
                    <li id="nav-gettingstarted"><a href="http://www.docker.io/gettingstarted/">Getting started</a></li>
                    <li id="nav-community"><a href="http://www.docker.io/community/" title="Community">Community</a></li>
                    <li id="nav-documentation" class="active"><a href="http://docs.docker.io/en/latest/">Documentation</a></li>
                    <li id="nav-blog"><a href="http://blog.docker.io/" title="Docker Blog">Blog</a></li>
                    <li id="nav-index"><a href="http://index.docker.io/" title="Docker Image Index, find images here">INDEX <img class="inline-icon" src="{{ pathto('_static/img/external-link-icon.png', 1) }}" title="external link"> </a></li>
                </ul>
            </div>

            <div class="brand-logo">
                <a href="http://www.docker.io" title="Docker Homepage"><img src="{{ pathto('_static/img/docker-top-logo.png', 1) }}"></a>
            </div>
        </div>
    </div>
</div>


<div class="container">

    <!-- Docs nav
     ================================================== -->
    <div class="row main-row">

        <div class="span3 sidebar bs-docs-sidebar">
            <div class="page-title" style="width: 100% text-align: center;">
                <h4>DOCUMENTATION</h4>
            </div>
            
            {{ toctree(collapse=False, maxdepth=3) }}
	    <form>
	      <input type="text" id="st-search-input" class="st-search-input span3" style="width:160px;" />
	    </form>
        </div>

        <!-- body block -->
        <div class="span9 main-content">

            <!-- Main section
            ================================================== -->
            <section id="global" class="containerblock">
                {% block body %}{% endblock %}
            </section>

	    <!-- Swiftype search -->
	    <div id="st-results-container"></div>
	    <script type="text/javascript">
	      var Swiftype = window.Swiftype || {};
	      (function() {
	      Swiftype.key = 'pWPnnyvwcfpcrw1o51Sz';
	      Swiftype.inputElement = '#st-search-input';
	      Swiftype.resultContainingElement = '#st-results-container';
	      Swiftype.attachElement = '#st-search-input';
	      Swiftype.renderStyle = "overlay";

	      var script = document.createElement('script');
	      script.type = 'text/javascript';
	      script.async = true;
	      script.src = "//swiftype.com/embed.js";
	      var entry = document.getElementsByTagName('script')[0];
	      entry.parentNode.insertBefore(script, entry);
	      }());
	    </script>

        </div>
    </div>
</div>

<div id="footer">
    <div class="footer-landscape">
        <div class="footer-landscape-image">
            <!-- footer -->
            <div class="container">
                <div class="row footer">
                    <div class="span12 tbox">
                        <div class="tbox">
                            <p>Docker is an open source project, sponsored by  <a href="https://dotcloud.com">dotCloud</a>, under the <a href="https://github.com/dotcloud/docker/blob/master/LICENSE" title="Docker licence, hosted in the Github repository">apache 2.0 licence</a></p>
                        </div>

                        <div class="social links">
                            <a class="twitter" href="http://twitter.com/docker">Twitter</a>
                            <a class="github" href="https://github.com/dotcloud/docker/">GitHub</a>
                        </div>

                        <div class="tbox version-flyer ">
                            <div class="content">
                                <small>Switch version:</small>
                                <ul class="inline">
                                    <li><a href="/news/" title="News and updates">Latest Release</a></li>
                                    <li class="alternative"><a href="/news/" title="News and updates">0.5.3</a></li>
                                    <li class="alternative"><a href="/news/" title="News and updates">Master</a></li>
                                </ul>
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </div>
        <!-- end of footer -->
    </div>
</div>



  <!-- script which should be loaded after everything else -->
<script type="text/javascript">

    // Function to make the sticky header possible
    var shiftWindow = function() {
        scrollBy(0, -70);
        console.log("window shifted")
    };
    window.addEventListener("hashchange", shiftWindow);

    function loadShift() {
        if (window.location.hash) {
            console.log("window has hash");
            shiftWindow();
        }
    }

    $(window).load(function() {
        loadShift();
        console.log("late loadshift");
    });

    $(function(){

        // sidebar accordian-ing
        // don't apply on last object (it should be the FAQ) or the first (it should be introduction)

        // define an array to which all opened items should be added
        var openmenus = [];

        var elements = $('.toctree-l2');
        for (var i = 0; i < elements.length; i += 1) { var current = $(elements[i]); current.children('ul').hide();}


        // set initial collapsed state
        var elements = $('.toctree-l1');
        for (var i = 0; i < elements.length; i += 1) {
            var current = $(elements[i]);
            if (current.hasClass('current')) {

                currentlink = current.children('a')[0].href;
                openmenus.push(currentlink);

                // do nothing
            } else {
                // collapse children
                current.children('ul').hide();
            }
        }

        $(function(){
            $("#versionWidget a:contains('Master')").parent().addClass('active-slug');
        });

        // attached handler on click
        // Do not attach to first element or last (intro, faq) so that
        // first and last link directly instead of accordian
        $('.sidebar > ul > li > a').not(':last').not(':first').click(function(){

            var index = $.inArray(this.href, openmenus)

            if (index > -1) {
                console.log(index);
                openmenus.splice(index, 1);


                $(this).parent().children('ul').slideUp(200, function() {
                    $(this).parent().removeClass('open'); // toggle after effect
                });
            }
            else {
                openmenus.push(this.href);
                console.log(this);

                var current = $(this);

                setTimeout(function() {
                    $('.sidebar > ul > li').removeClass('current');
                    current.parent().addClass('current').addClass('open'); // toggle before effect
                    current.parent().children('ul').hide();
                    current.parent().children('ul').slideDown(200);
                }, 100);
            }
            return false;
        });

        // add class to all those which have children
        $('.sidebar > ul > li').not(':last').not(':first').addClass('has-children');

    });
</script>

    <!-- Google analytics -->
    <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-6096819-11']);
        _gaq.push(['_setDomainName', 'docker.io']);
        _gaq.push(['_setAllowLinker', true]);
        _gaq.push(['_trackPageview']);

        (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

    </script>

</body>
</html>
